<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Belajar Laravel</title>

    <link rel="stylesheet" href="css/index.css">
</head>
<body>
    <div class="container">
        <aside id="aside">

        </aside>
        <main>
            <header>
                
            </header>

            <div class="content">
<pre>
    ğŸ‘‰ 4ï¸âƒ£ Role & Permission (Konsep Besar Sistem Multi-Role)

    Ini yang dipakai di:

    Admin panel besar

    Marketplace

    SaaS

    Sistem sekolah

    ERP

    Aplikasi perusahaan

    Kalau cuma 1 role â†’ gampang.
    Kalau ada 5â€“10 role + 30 permission?

    Tanpa sistem yang benar â†’ chaos ğŸ˜…

    
    
    
    
    
    
    
    ğŸ§  Bedanya Role dan Permission
    ğŸ”¹ Role

    Jabatan / posisi user

    Contoh:

    Admin

    Editor

    Manager

    User

    Moderator

    Role itu kelompok besar.

    ğŸ”¹ Permission

    Hak akses spesifik

    Contoh:

    create_post

    edit_post

    delete_post

    manage_user

    approve_order

    Permission itu aksi kecil.

    
    
    
    
    
    
    
    ğŸ¯ Kenapa Tidak Cukup Pakai Kolom role Saja?

    Banyak pemula bikin:

    users
    - id
    - name
    - role (admin/user)


    Masalahnya:

    Kalau nanti ada role:

    admin

    editor

    superadmin

    manager

    finance

    support

    Akan makin berantakan.

    Belum lagi kalau:
    Editor boleh edit post, tapi tidak boleh delete.

    Role saja tidak cukup.

    
    
    
    
    
    
    
    ğŸ— Struktur Database yang Benar (Konsep)

    Biasanya pakai 3 tabel utama:

    1ï¸âƒ£ roles
    id
    name

    2ï¸âƒ£ permissions
    id
    name

    3ï¸âƒ£ role_permission (pivot)
    role_id
    permission_id


    Dan di users:

    users
    - id
    - role_id


    Atau bahkan bisa:

    user_role (pivot)


    Kalau satu user bisa punya banyak role.

    
    
    
    
    
    
    
    ğŸ”¥ Konsep Besar Sistem Role & Permission
    User â†’ punya Role
    Role â†’ punya banyak Permission
    Permission â†’ menentukan aksi


    Contoh:

    Admin:

    create_user

    delete_user

    edit_post

    delete_post

    Editor:

    create_post

    edit_post

    User:

    create_post

    
    
    
    
    
    
    
    ğŸ§  Cara Implementasi di Laravel

    Ada 2 cara:

    ğŸ”¹ Cara Manual (Belajar Dasar)

    Buat tabel role & permission

    Buat relasi Eloquent

    Cek permission manual:

    if (! auth()->user()->hasPermission('edit_post')) {
        abort(403);
    }

    ğŸ”¹ Cara Profesional (Paling Umum Dipakai)

    Pakai package resmi komunitas:

    Spatie
    Laravel Permission

    Package ini:

    Otomatis buat tabel

    Support role & permission

    Bisa assign banyak role

    Terintegrasi dengan Gate & Policy

    Production ready

    Banyak perusahaan pakai ini ğŸ”¥

    
    
    
    
    
    
    
    ğŸ§  Hubungan Role & Authorization

    Role & Permission biasanya digabung dengan:

    Middleware

    Gate

    Policy

    Contoh:

    Route::middleware(['role:admin'])->group(function () {
        Route::get('/admin', ...);
    });


    Atau di Blade:

    @role('admin')
        Admin Panel
    @endrole

    
    
    
    
    
    
    
    ğŸ¯ Mental Model Sistem Besar

    Authentication = Siapa kamu
    Authorization = Boleh apa
    Role = Posisi kamu
    Permission = Aksi yang boleh kamu lakukan

    Role & Permission adalah layer di atas Gate & Policy.

    
    
    
    
    
    
    
    ğŸ Kapan Harus Pakai Sistem Ini?

    Gunakan Role & Permission jika:

    âœ… Aplikasi punya banyak jenis user
    âœ… Ada dashboard admin
    âœ… Ada sistem approval
    âœ… Ada multi-level akses
    âœ… Target production / client

    Kalau cuma CRUD sederhana?
    Gate atau Policy saja cukup.

    
    
    
    
    
    
    
    âš  Kesalahan Umum Pemula

    âŒ Semua logic pakai if role di controller
    âŒ Tidak pisahkan role & permission
    âŒ Hardcode string di banyak tempat
    âŒ Tidak scalable

    
    
    
    
    
    
    
    ğŸ”¥ Level Kamu Sekarang

    Kalau kamu sudah paham:

    Authentication

    Middleware

    Gate

    Policy

    Role & Permission

    Kamu sudah masuk:

    Laravel Intermediate Level ğŸ”¥

    Dan siap bikin:

    Admin panel

    Multi-user system

    SaaS app

    Marketplace
</pre>

            </div>
        </main>
    </div>
    <script>
        fetch('layout/aside.html').then( response => response.text()).then( data => {
            document.getElementById('aside').innerHTML = data;

            const currentPage = window.location.pathname.split('/').pop() || 'index.html';
            const links = document.querySelectorAll('aside a');

            links.forEach(link => {
                if(currentPage == 'index.html'){
                    document.getElementById('1-1-php-dasar').classList.add('active');
                } else if(link.getAttribute('href') == currentPage){
                    link.classList.add('active');
                }
            });
        });
    </script>
</body>
</html>